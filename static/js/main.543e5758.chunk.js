(this["webpackJsonpcal-todo"]=this["webpackJsonpcal-todo"]||[]).push([[0],{16:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(5),r=a.n(i),d=(a(16),a(3)),s=a(2),o=a(8),l=a(7),u="ADD_QUEST",j="DELETE_QUEST",m="EDIT_QUEST",b="DONE_QUEST",h=Object(o.a)({rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:1,quest:"Do shopping",date:"2021-12-05",time:"18:30",done:!1},{id:2,quest:"Walk the dog",date:"2022-02-10",time:"16:30",done:!0},{id:3,quest:"Wash the dishes",date:"2022-01-15",time:"12:00",done:!1},{id:4,quest:"Play chess",date:"2022-01-03",time:"10:00",done:!1},{id:5,quest:"Take out the trash",date:"2022-04-05",time:"18:30",done:!1},{id:6,quest:"Clean the house",date:"2022-03-04",time:"18:30",done:!1},{id:7,quest:"Cook lunch",date:"2022-01-05",time:"18:30",done:!1},{id:8,quest:"Meet up with friends",date:"2022-02-05",time:"18:30",done:!1}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return[].concat(Object(l.a)(e),[t.payload]);case j:return e.filter((function(e){return e.id!==t.payload.id}));case m:return e.map((function(e){return e.id==t.payload.id?{id:e.id,quest:e.quest,date:e.date,time:e.time,done:!0}:e}));case b:return e.map((function(a){if(a.id!==t.payload.id)return e;var n=t.payload;return{id:n.id,done:n.done}}));default:return console.log("Nie ma takiego typu akcji"),e}}}),f=Object(o.b)(h),v=function(e){var t=document.querySelectorAll("input");console.log(t);for(var a=0;a<t.length;a++)t[a].classList.remove("empty-field");var n=document.getElementById(e);null!==n&&(console.log(n),n.classList.add("empty-field"))},p=a(1),O=Math.floor(1e3*Math.random());var g=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),r=Object(d.a)(i,2),o=r[0],l=r[1],j=Object(n.useState)(""),m=Object(d.a)(j,2),b=m[0],h=m[1],f=Object(s.c)((function(e){return e.rates})),g=Object(s.b)(),x=function(e){switch(e.target.id){case"quest":return c(e.target.value);case"time":return l(e.target.value);case"date":return h(e.target.value);default:return}};return Object(p.jsxs)("div",{className:"form",children:[Object(p.jsx)("h2",{children:"Dodaj zadanie"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("div",{id:"quest_add",children:Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Nazwa zadania:"}),Object(p.jsx)("input",{id:"quest",onChange:x,type:"text",value:a})]})}),Object(p.jsxs)("div",{id:"quest_time",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Godzina"}),Object(p.jsx)("input",{id:"time",onChange:x,type:"time",value:o})]}),Object(p.jsxs)("label",{children:[Object(p.jsx)("p",{children:"Data:"}),Object(p.jsx)("input",{id:"date",onChange:x,type:"date",value:b})]}),Object(p.jsx)("button",{onClick:function(e){if(e.preventDefault(),a.length)if(o)if(b.length){g(function(e){var t=e.id,a=e.quest,n=e.date,c=e.time,i=e.done;return{type:u,payload:{id:t,quest:a,date:n,time:c,done:i}}}({id:O,quest:a,date:b,time:o,done:!1})),O=Math.floor(1e3*Math.random());for(var t=0;t<f.length;t++)f[t].id===O&&(O=Math.floor(1e3*Math.random()),t=0);c(""),l(""),h(""),v("")}else v("date");else v("time");else v("quest")},children:"Dodaj"})]})]})]})},x=function(e,t){var a=e.date,n=t.date,c=e.time,i=t.time;return a<n?1:a>n?-1:c>i?1:c<i?-1:0};var y=function(e){var t=e.dateFilter,a=Object(s.b)(),c=Object(s.c)((function(e){return e.rates})),i=Object(n.useState)("todo"),r=Object(d.a)(i,2),o=r[0],u=r[1],j=Object(n.useState)(""),b=Object(d.a)(j,2),h=b[0],f=b[1],v="";c.sort(x);var O=function(){for(var e,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,i=document.getElementsByClassName("top-button"),r=0;r<i.length;r++)i[r].classList.remove("active");e=a?a.target.classList[1]:n;var d=Object(l.a)(c);v="done"===e?d.filter((function(e){return!0===e.done})):"btn"===e?d.filter((function(e){return e.date===t})):d.filter((function(e){return!1===e.done}));var s=document.getElementsByClassName("top-button ".concat(e));void 0!==s[0].classList&&s[0].classList.add("active"),u(e),g(v)},g=function(e){var t=e.map((function(e){return Object(p.jsxs)("div",{className:"List__element",children:[Object(p.jsx)("span",{className:"List__element__data",children:e.date})," ",Object(p.jsx)("span",{className:"List__element__quest",children:e.quest})," ",Object(p.jsx)("span",{className:"List__element__time",children:e.time}),e.done?null:Object(p.jsx)("button",{className:e.id,onClick:function(e){return a(function(e){var t=e.id,a=e.quest,n=e.date,c=e.time;return{type:m,payload:{id:t,quest:a,date:n,time:c}}}(function(e){return{id:e,done:!0}}(e.target.classList[0])))},children:"zako\u0144cz"})]},e.id)}));f(t)};Object(n.useEffect)((function(){O(!1,o,c)}),[c]);var y=[["todo","Do zrobienia"],["done","Zako\u0144czone"],["btn","Z dnia ".concat(t)]].map((function(e){return Object(p.jsx)("button",{onClick:function(e){return O(e,o,c)},className:"top-button ".concat(e[0]),children:e[1]},e[0])}));return Object(n.useEffect)((function(){O(!1,"btn",c)}),[t]),Object(p.jsxs)("div",{className:"List",children:[Object(p.jsx)("h2",{children:"Lista zada\u0144"}),Object(p.jsx)("div",{children:y}),0===h.length?"brak zada\u0144":h]})};var C=function(e){var t=e.click,a=e.month,n=e.year;return Object(p.jsxs)("div",{className:"CalendarHeader",children:[Object(p.jsx)("button",{onClick:t,className:"prevMonth",children:"prev"}),Object(p.jsxs)("h3",{children:[["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","siepie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"][a]," ",n]}),Object(p.jsx)("button",{onClick:t,className:"nextMonth",children:"next"})]})},E=function(e){var t,a=document.querySelectorAll("#CalendarTable .day"),n=null===(t=document.querySelector(".CalendarHeader h3"))||void 0===t?void 0:t.innerHTML.split(" ");if(void 0!==n)for(var c=["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"].indexOf(n[0])+1,i=n[1],r=0;r<e.length;r++)if(!1===e[r].done){var d=e[r].date.split("-"),s=d[2];if("0"===s[0]){var o=s.split("");s=o[1]}for(var l=Number(d[1]),u=d[0],j=0;j<a.length;j++)a[j].classList[1]===s&&l===c&&u===i&&a[j].classList.add("todos")}};var z=function(e){var t=e.year,a=e.month,c=e.day,i=e.now,r=e.markActiveDayDate,d=Object(s.c)((function(e){return e.rates})),o=["Pon","Wto","\u015aro","Czw","Pi\u0105","Sob","Nie"];return Object(n.useEffect)((function(){!function(e,t,a,n,c){var i=document.getElementById("CalendarTable");if(null!==i){i.innerHTML="";var r=document.createElement("table");i.appendChild(r);var d=new Date(e,t+1,0).getDate(),s=new Date(e,t,1).getDay();0===s&&(s=7);var o=document.createElement("tr");c.forEach((function(e){var t=document.createElement("th");t.innerHTML=e,o.appendChild(t)})),r.appendChild(o),s-1!==0&&(o=document.createElement("tr"),r.appendChild(o));for(var l=0;l<s-1;l++){var u=document.createElement("td"),j=document.createElement("p");j.innerHTML="",o.appendChild(u),u.appendChild(j)}for(var m=d+s-1,b=s-1;b<m;b++){b%7===0&&(o=document.createElement("tr"),r.appendChild(o));var h=document.createElement("td"),f=document.createElement("p");f.innerText="".concat(b-s+2),h.classList.add("day"),h.classList.add("".concat(b-s+2)),f.classList.add("".concat(b-s+2)),e===n.getFullYear()&&t===n.getMonth()&&a===b-s+2&&h.classList.add("today"),o.appendChild(h),h.appendChild(f)}}}(t,a,c,i,o),E(d),function(e){if(""!==e){var t=document.querySelector(".CalendarHeader h3").textContent.split(" ")[0],a=document.querySelector(".CalendarHeader h3").textContent.split(" ")[1],n=e.split("-")[2],c=e.split("-")[1],i=e.split("-")[0];"0"===n[0]&&(n=n[1]),a===i&&t===["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"][c-1]&&document.getElementsByClassName("".concat(n))[0].classList.add("markDay")}}(r)})),Object(p.jsx)("div",{id:"CalendarTable"})};var k=function(e){var t=e.setDateFilter,a=Object(s.c)((function(e){return e.rates})),c=new Date,i=Object(n.useState)(c.getMonth()),r=Object(d.a)(i,2),o=r[0],l=r[1],u=Object(n.useState)(c.getFullYear()),j=Object(d.a)(u,2),m=j[0],b=j[1],h=Object(n.useState)(""),f=Object(d.a)(h,2),v=f[0],O=f[1];12===o&&l(0),-1===o&&l(11);var g=c.getDate(),x="",y=function(e){var a=e.target.classList[0];a<10&&(a="0"+a);var n=o+1;n<10&&(n="0"+n),x=m+"-"+n+"-"+a,t(""),t(x),O(x)},k=Object(n.useRef)();return Object(n.useEffect)((function(){k.current=document.getElementsByClassName("day");for(var e=0;e<k.current.length;e++)k.current[e].addEventListener("click",(function(e){y(e)}))})),Object(p.jsxs)("div",{className:"Calendar",children:[Object(p.jsx)(C,{click:function(e){var t=e.target;"nextMonth"===t.className?(11===o&&b((function(e){return++e})),l((function(e){return++e}))):"prevMonth"===t.className&&(0===o&&b((function(e){return--e})),l((function(e){return--e}))),E(a)},month:o,year:m}),Object(p.jsx)(z,{month:o,year:m,day:g,now:c,markActiveDayDate:v})]})};var q=function(){var e=new Date,t=e.getDate();t<10&&(t="0"+t);var a=e.getFullYear(),c=e.getMonth()+1;c<10&&(c="0"+c),e=t+"-"+c+"-"+a;var i=Object(n.useState)(e),r=Object(d.a)(i,2),o=r[0],l=r[1];return Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)(s.a,{store:f,children:[Object(p.jsxs)("div",{class:"col_1",children:[Object(p.jsx)(g,{}),Object(p.jsx)(k,{setDateFilter:l})]}),Object(p.jsx)("div",{class:"col_2",children:Object(p.jsx)(y,{dateFilter:o})})]})})};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(q,{})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.543e5758.chunk.js.map